<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Docker 1 : Créer un site statique en local - Documentations</title><meta name="description" content="Voila, je veux apprendre à gérer un peu Docker. Ce logiciel de contairisation est pour moi assez obscure mais semble extrêmement puissant."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://blog.victorprouff.fr/docker-2.html"><link rel="alternate" type="application/atom+xml" href="https://blog.victorprouff.fr/feed.xml"><link rel="alternate" type="application/json" href="https://blog.victorprouff.fr/feed.json"><meta property="og:title" content="Docker 1 : Créer un site statique en local"><meta property="og:site_name" content="Documentations"><meta property="og:description" content="Voila, je veux apprendre à gérer un peu Docker. Ce logiciel de contairisation est pour moi assez obscure mais semble extrêmement puissant."><meta property="og:url" content="https://blog.victorprouff.fr/docker-2.html"><meta property="og:type" content="article"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://blog.victorprouff.fr/assets/css/fontawesome-all.min.css?v=bbcde81f26378440dac4c3d195714389"><link rel="stylesheet" href="https://blog.victorprouff.fr/assets/css/style.css?v=cf3d753ba0e70adcf47f65f07222071c"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.victorprouff.fr/docker-2.html"},"headline":"Docker 1 : Créer un site statique en local","datePublished":"2020-07-14T10:59","dateModified":"2020-10-17T13:18","description":"Voila, je veux apprendre à gérer un peu Docker. Ce logiciel de contairisation est pour moi assez obscure mais semble&hellip;","author":{"@type":"Person","name":"Victor Prouff"},"publisher":{"@type":"Organization","name":"Victor Prouff"}}</script></head><body class="is-preload"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo" href="https://blog.victorprouff.fr/"><strong>Documentations</strong></a></header><article class="post"><header class="main post__header"><time datetime="2020-07-14T10:59" class="post__date">juillet 14, 2020</time><h1>Docker 1 : Créer un site statique en local</h1></header><div class="post__inner post__entry"><p>Voila, je veux apprendre à gérer un peu Docker. Ce logiciel de contairisation est pour moi assez obscure mais semble extrêmement puissant. Déployer n'importe quelle petites applications ou logiciel en local sur sa machine, sur un serveur ou même sur son NAS a l'air d'être simpliste. Sauf que pour ça faut apprendre les bases ^^ </p><p>C'est ce que je vais faire aujourd'hui. Reprendre les bases. Le but de cet article est qu'à la fin de son écriture, j'ai hébergé ce site de documentation statique sur un container Docker. Je vais tout détailler ici, étape après étape.</p><p>J'ai traduit ce tuto :  <a href="Je me suis inspiré et documenté à partir de cette article :  https:/www.katacoda.com/courses/docker/create-nginx-static-web-server" target="null">katacoda</a></p><h4>Étape 1 - Créer un fichier d'archive</h4><p>Les Docker Images partent d'une image de base. L'image de base doit inclure les dépendances de plate-forme requises par votre application, par exemple, avoir la JVM ou le CLR installé.<br><br>Cette image de base est définie comme une instruction dans le Dockerfile. Les images fixes sont construites à partir du contenu d'un fichier fixe. Le Dockerfile est une liste d'instructions décrivant comment déployer votre application.<br><br>Dans cet exemple, notre image de base est la version Alpine de Nginx. Elle fournit le serveur web configuré sur la distribution Linux Alpine.</p><p>Créez votre Dockerfile pour construire votre image en copiant le contenu ci-dessous dans l'éditeur.</p><pre class="file hljs dockerfile" data-filename="Dockerfile" data-target="replace"><span class="copyTo copyToEditor"><i class="fa fa-clipboard"></i><span class="hljs-keyword">Copy</span><span class="bash"> to Editor</span></span><span class="bash">FROM nginx:alpine
</span><span class="hljs-keyword">COPY</span><span class="bash"> . /usr/share/nginx/html
</span></pre><p>La première ligne définit notre image de base. La deuxième ligne copie le contenu du répertoire courant dans un endroit particulier à l'intérieur du conteneur.</p><h4>Étape 2 - Création d'une image de docker</h4><p>Le Dockerfile est utilisé par la commande de construction Docker CLI. La commande build exécute chaque instruction dans le Dockerfile. Le résultat est une image de docker construite qui peut être lancée et exécuter votre application configurée.<br><br>La commande build prend en compte différents paramètres. Le format est le suivant : docker build -t &lt;répertoire de construction&gt;. Le paramètre -t vous permet de spécifier un nom convivial pour l'image et une balise, généralement utilisée comme numéro de version. Cela vous permet de suivre les images construites et de savoir avec certitude quelle version est lancée.</p><p>Construisez notre image HTML statique en utilisant la commande de construction ci-dessous.</p><p><code class="execute" title="Run command">docker build -t static-site-1-image:v1 .</code></p><p>Vous pouvez afficher une liste de toutes les images sur l'hôte en utilisant <code class="execute" title="Run command">docker images</code>.</p><p>L'image construite portera le nom static-site-1-image avec une balise de v1.</p><h4>Etape 3 - Run</h4><p>L'image construite peut être lancée de manière cohérente avec d'autres images de Docker. Lorsqu'un conteneur est lancé, il est mis en bac à sable à partir d'autres processus et réseaux sur l'hôte. Lorsque vous lancez un conteneur, vous devez lui donner la permission et l'accès à ce dont il a besoin.<br><br>Par exemple, pour ouvrir un conteneur et le lier à un port réseau sur l'hôte, vous devez fournir le paramètre -p &lt;host-port&gt;:&lt;container-port&gt;.<br><br>Lancer notre nouvelle image en fournissant le nom. Comme il s'agit d'un serveur web, liez le port 80 à notre hôte en utilisant le paramètre -p. Utilisez la commande suivante :<br><br><code>docker run -d -p 8000:80 static-site-1-image:v1</code></p><p>Une fois lancé, vous pourrez accéder aux résultats du port 80 via le docker curl.<br><br>Pour rendre les requêtes dans le navigateur, utilisez les liens suivants<br><br>https://2886795337-80-cykoria08.environments.katacoda.com/<br><br>Vous disposez maintenant d'un site web HTML statique desservi par Nginx.</p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on octobre 17, 2020</p><div class="post__share"><h3>Share post:</h3></div><div class="post__bio"><div><h3><a href="https://blog.victorprouff.fr/authors/victor-prouff/" class="invert" rel="author">Victor Prouff</a></h3></div></div></footer></article></div></div><div id="sidebar"><div class="inner"><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li class="has-submenu"><a href="https://blog.victorprouff.fr/projet/" target="_self" aria-haspopup="true" class="opener">Projets</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://blog.victorprouff.fr/projet-transferer-des-photos-via-python.html" target="_self">Transférer des photos via Python</a></li></ul></li></ul></nav><footer id="footer"><p class="copyright">© Victor Prouff - Tous droits réservés<br>Design by: Victor Prouff, Powered by <a href="https://getpublii.com" target="_blank" rel="noopener">Publii</a></p></footer></div></div></div><script src="https://blog.victorprouff.fr/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://blog.victorprouff.fr/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://blog.victorprouff.fr/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://blog.victorprouff.fr/assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="https://blog.victorprouff.fr/assets/js/main.min.js?v=448f4c9d4b4c374766a1cb76c3d88048"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>